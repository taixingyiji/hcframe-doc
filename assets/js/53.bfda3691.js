(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{690:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"配置数据源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置数据源"}},[t._v("#")]),t._v(" 配置数据源")]),t._v(" "),s("h2",{attrs:{id:"一、检查pom-xml文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、检查pom-xml文件"}},[t._v("#")]),t._v(" 一、检查pom.xml文件")]),t._v(" "),s("p",[t._v("检查在编译器中 "),s("code",[t._v("pom.xml")]),t._v(" 已经可以正确读取基础包依赖，且不报错，"),s("code",[t._v("pom.xml")]),t._v(" 中基础包内容如下")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.common.base"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("base"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.1.0-beta1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h2",{attrs:{id:"二、导入sql文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、导入sql文件"}},[t._v("#")]),t._v(" 二、导入sql文件")]),t._v(" "),s("p",[t._v("在你需要配置的数据源中导入"),s("strong",[t._v("Sql文件")])]),t._v(" "),s("p",[t._v("数据库名自定，编码集用 "),s("code",[t._v("utf8")]),t._v(" ，集合用 "),s("code",[t._v("utf8_bin")])]),t._v(" "),s("p",[s("strong",[t._v("Sql文件")]),t._v(" 位于项目中 "),s("code",[t._v("resources")]),t._v(" 目录下")]),t._v(" "),s("h2",{attrs:{id:"三、配置sqlite文件地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、配置sqlite文件地址"}},[t._v("#")]),t._v(" 三、配置Sqlite文件地址")]),t._v(" "),s("p",[t._v("打开 "),s("code",[t._v("resources > application.yml")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("找到数据源配置，将 "),s("code",[t._v("url")]),t._v(" 参数改为你电脑上的参数，注意，此处需要填写绝对路径。")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("druid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置sqlite文件路径，需要填写绝对路径，推荐将sqlite文件放入到服务器上，而非程序jar包或war包中")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("driver-class-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.sqlite.JDBC\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/Volumes/DATA/ideaProject/common"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("frame/common/src/main/resources/datasource.db\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"四、启动项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、启动项目"}},[t._v("#")]),t._v(" 四、启动项目")]),t._v(" "),s("p",[t._v("启动项目，查看日志得到如下日志则启动成功")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("09")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INFO")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("u"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("DataSourceUtil")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" initDataSource"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("92")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 数据源"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Token")]),t._v("为：kAV20ASkVEnD32lyNe4Q\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("09")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INFO")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("CommandLineRunnerImpl")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" run"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" start success\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("记录日志中出现的 "),s("strong",[t._v("Token")]),t._v(" ，此处日志展示为 "),s("strong",[t._v("kAV20ASkVEnD32lyNe4Q")])]),t._v(" "),s("h2",{attrs:{id:"五、token登录系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、token登录系统"}},[t._v("#")]),t._v(" 五、Token登录系统")]),t._v(" "),s("p",[t._v("访问你的项目地址根目录，此处我的访问地址为 "),s("a",{attrs:{href:"http://localhost:8080/common/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/common/"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("其中后面的 "),s("code",[t._v("common")]),t._v(" 为 "),s("code",[t._v("resources > application.yml")]),t._v(" 文件中配置的参数具体如下")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("servlet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此处配置端口后的地址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("context-path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /common\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("访问后我们可以看到如下页面")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/taixingyiji/image_store@main/blog/20210204165100.png",alt:"image-20210204164953567"}})]),t._v(" "),s("p",[t._v("填写刚刚在控制台看到的 "),s("strong",[t._v("Token")]),t._v(" ，此处填写的是 "),s("strong",[t._v("kAV20ASkVEnD32lyNe4Q")])]),t._v(" "),s("h2",{attrs:{id:"六、配置数据源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、配置数据源"}},[t._v("#")]),t._v(" 六、配置数据源")]),t._v(" "),s("p",[t._v("输入"),s("strong",[t._v("Token")]),t._v(" 校验成功后会跳转到如下页面，输入对应参数即可")]),t._v(" "),s("p",[t._v("每个参数后面都有说明，鼠标停留即可查看相关说明")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/taixingyiji/image_store@main/blog/20210204165326.png",alt:"image-20210204165326338"}})]),t._v(" "),s("p",[t._v("输入完成后点击测试连接，测试连接通过后即可保存连接，然后跳转到登录页")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/taixingyiji/image_store@main/blog/20210204165502.png",alt:"image-20210204165502873"}})]),t._v(" "),s("p",[t._v("点击登录即可成功跳转到主页")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/taixingyiji/image_store@main/blog/20210204165529.png",alt:"image-20210204165529331"}})]),t._v(" "),s("p",[t._v("至此，数据源配置完成，可以开始开发了")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("上述所有配置均为第一次没有添加数据源的情况")]),t._v(" "),s("p",[t._v("若已经添加数据源，但数据源无法访问的时候")]),t._v(" "),s("p",[t._v("可以在启动项目访问此链接"),s("a",{attrs:{href:"http://localhost:8080/common/#/dataInit",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/common/#/dataInit"),s("OutboundLink")],1),t._v("，进行默认数据源重置")])])])}),[],!1,null,null,null);s.default=e.exports}}]);